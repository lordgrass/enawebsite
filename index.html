<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home Menu | Lordgrass.com</title>
    <link rel="shortcut icon" href="assets/favicon.png" />
    <link rel="stylesheet" href="css/style.css" />
    <script src="js/script.js"></script>
    <script src="js/jquery.js"></script>
    <meta property="og:site_name" content="LordGrass.com" />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="LordGrass.com" />
	<meta property="og:description" content="Official Website of Enadasa" />
	<meta id="meta-image" property="og:image" itemprop="image" content="" />
	<link rel="apple-touch-icon" href="" />
	<meta name="author" content="Enadasa (Modifications only)" />
    <meta name="description" content="Official Website of Enadasa">
	<meta name="keywords" content="enadasa,lordgrass,youtube" />
    <meta name="theme-color" content="#222222" />
    <meta name="apple-mobile-web-app-status-bar" content="#222222" />
</head>
<body>    
    <div class="splash">
        <div>
            <img src="assets/return.gif" class="channels" />
            <span class="tip"><strong>TIP:</strong>&nbsp;Press the "P" key to open the pause menu</span>
        </div>
    </div>

    <div class="main-menu">
        <div class="grid">
            <div class="prev">
                <img src="assets/prev-default.png" class="def" />
                <img src="assets/prev-hover.png" class="hover" />
            </div>
            <div class="ch-c">
                <div class="ch occupied" data-id="disc">
                    <img src="channelart/disc/disc.png" class="spinnin" />
                    <iframe src=""></iframe>
                    <div class="onhover" onmouseover="hover()" onclick="zip()"></div>
                    <span class="tag" id="discTag">Disc Channel</span>
                </div>
                <div class="ch occupied" data-id="socials" data-href="socials/">
                    <iframe src=""></iframe>
                    <div class="onhover" onmouseover="hover()" onclick="zip()"></div>
                    <span class="tag">Social Channels</span>
                </div>
                <div class="ch occupied" data-id="shop" data-href="shop/">
                    <iframe src=""></iframe>
                    <div class="onhover" onmouseover="hover()" onclick="zip()"></div>
                    <span class="tag">Shop Channel</span>
                </div>
		        <div class="ch occupied" data-id="senate" data-href="https://rumble.com/v52yho6-the-senate-channel.html">
                    <iframe src=""></iframe>
                    <div class="onhover" onmouseover="hover()" onclick="zip()"></div>
                    <span class="tag">The Senate Channel</span>
                </div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
            </div>
            <div class="ch-c">
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
            </div>
            <div class="next">
                <img src="assets/next-hover.png" class="hover" />
                <img src="assets/next-default.png" class="def" />
            </div>
        </div>
    
        <div class="bottom-bar">
            <div class="lateral left">
                <img src="assets/wii-button.png" class="wii-btn buttonlike" onclick="startAudio()" />
                <span class="tag">Settings</span>
            </div>
            <div class="info" style="color: #47bbe3;">
                <span class="jg">Lordgrass.com</span>
                <span id="hour"></span>
                <span id="date"></span>
            </div>
            <div class="lateral right">
                <img src="assets/mail-button.png" class="diary-btn buttonlike" onclick="startAudio()" />
                <span class="tag">Message Board</span>
            </div>
        </div>
    </div>

    <div class="msgboard">
        <div class="bg"></div>
        <div class="card buttonlike" onclick="letterIn()">
            <span>Welcome to the homepage of Enadasa</span>
        </div>
        <div class="opened">
            <div class="memo">
                <span class="title">Welcome</span>
                <div class="lines">
                    <span>I humbly welcome you to this website.</span>
                </div>
            </div>
            <a class="alt-btn back">Back</a>
        </div>
        <div class="bottom">
            <span id="date2"></span>
            <div class="lateral">
                <img src="assets/backtomenu.png" class="back-btn backtowiimenu buttonlike" />
                <span class="tag">Menu</span>
            </div>
        </div>
    </div>

    <div class="ch-selection">
        <div class="thecontent">
            <div class="tl"></div><div class="tr"></div><div class="bl"></div><div class="br"></div>
            <img id="videoSpec" src="" />
            <div class="buttons">
                <a class="buttonlike" onclick="menuReturn()">Menu</a>
                <a class="buttonlike letsago" onclick="start()">Start</a>
            </div>
        </div>
    </div>

    <div class="home-menu">
        <div class="bar-top close-pause-menu">
            <span>HOME Menu</span>
            <img src="assets/home-close.png" />
        </div>
        <div class="in-between">
            <a class="buttonlike backtomenu">Menu</a>
            <a class="buttonlike" onclick="window.location.reload()">Reset</a>
        </div>
        <div class="bar-bottom">
            <img src="assets/remote.png" class="remote" />
            <div>
                <div class="battery">
                    <div>
                        <span>P1</span>
                        <img src="assets/power-full.png" />
                    </div>
                    <div>
                        <span>P2</span>
                        <img src="assets/power-empty.png" />
                    </div>
                    <div>
                        <span>P3</span>
                        <img src="assets/power-empty.png" />
                    </div>
                    <div>
                        <span>P4</span>
                        <img src="assets/power-empty.png" />
                    </div>
                </div>
                <div class="text">Remote Settings</div>
            </div>
        </div>
    </div>

    <div class="returndialog">
        <div class="msgbox">
            <div class="text">
                Return to the Main Menu?<br>
                (Anything not saved will be lost.)
            </div>
            <div class="actions">
                <a onclick="rm2();">Yes</a>
                <a class="closedialog">No</a>
            </div>
        </div>
    </div>

    <div class="settings">
        <div class="settings-content">
            <div class="topbar">
                <img src="assets/wii-logo.svg" />
            </div>
            <div class="cells">
                <a class="info buttonlike" href="/credits" target="_blank"></a>
                <a class="stngs buttonlike" href="/settings"></a>
            </div>
            <div class="bottombar">
                <a class="alt-btn close">Back</a>
            </div>
        </div>
    </div>

    <div class="ui-sfx">
        
        <audio id="hover" src="audio/button-hover.mp3"></audio>
        <audio id="select" src="audio/button-select.mp3"></audio>
        <audio id="zip" src="audio/zip.mp3"></audio>
        <audio id="back" src="audio/back.mp3"></audio>
        <audio id="start" src="audio/start.mp3"></audio>
        <audio id="chSpec" src=""></audio>
        <audio id="homeIn" src="audio/home-in.mp3"></audio>
        <audio id="homeOut" src="audio/home-out.mp3"></audio>
        <audio id="rm1" src="audio/returntomenu-1.mp3"></audio>
        <audio id="rm2" src="audio/returntomenu-2.mp3"></audio>
        <audio id="nextprev" src="audio/nextprev.mp3"></audio>
        <audio id="letterIn" src="audio/letter-in.mp3"></audio>
    </div>

    <script>
        // CHANNEL ART LOAD
        $(document).ready(function() {
            $('.ch.occupied').each(function() {
                var artsrc = 'channelart/' + $(this).data('id') + '/channel.html';
                $(this).find('iframe').attr('src', artsrc);
            });
        });

        // CLICKS ON CHANNEL
        $(".main-menu").on("click", ".occupied .onhover", function() {
            var centerX = $(this).offset().left + $(this).width() / 2;
            var centerY = $(this).offset().top + $(this).height() / 2;
            $(".main-menu").css({"transform-origin" : centerX + "px " + centerY + "px 0" });
            $(".ch-selection").css({"transform-origin" : centerX + "px " + centerY + "px 0" });
            $(".main-menu").addClass('ch-trans-on');
        });
        
        $(document).on("click", ".occupied", function() {
            console.log($(this).data('id'));

            var audiosrc = 'assets/channels/' + $(this).data('id') + '/audio.mp3';
            $("#chSpec").attr('src', audiosrc);

            var videosrc = 'assets/channels/' + $(this).data('id') + '/video.gif';
            $("#videoSpec").attr('src', videosrc);

            $("#chSpec")[0].currentTime = 0;
            var currentaudio = document.getElementById("chSpec");
            currentaudio.play();

            $(".letsago").attr('data-start', $(this).data('href'));
            if ($(this).attr("data-href")) {
                $(".letsago").attr('data-start', $(this).data('href'));
            }
            else {
                $(".letsago").addClass("disabled-btn");
            }
        });

        // CHANNEL START
        function start() {
            var audio = document.getElementById("start");
            audio.volume = 0.4; audio.play();
            if ($(".letsago").attr("data-start")) {
                setTimeout(() => {document.body.classList.add("fadeOut");}, 1000);
                setTimeout(() => {window.location.href = $(".letsago").data("start");}, 2000);
            }
            else {
                alert("ERROR: No endpoint has been defined for this channel.");
            }

            var chaudio = $('#chSpec');
            var duration = 1000;
            var steps = 10;

            function decreaseVolume() {
                var initialVolume = chaudio[0].volume;
                var step = initialVolume / steps;
                var delay = duration / steps;

                for (var i = 0; i < steps; i++) {
                    setTimeout(function() {
                    chaudio[0].volume -= step;
                    }, i * delay);
                }
            } decreaseVolume();
        }

        // RETURNS TO THE MENU
        function menuReturn() {
            var currentaudio = document.getElementById("chSpec");
            currentaudio.pause();
            $("#videoSpec").attr('src', '');

            $(".letsago").removeClass("disabled-btn");

            $(".main-menu").removeClass('ch-trans-on');
            $(".main-menu").addClass('chsout-anim');
            setTimeout(() => {$(".main-menu").removeClass('chsout-anim');}, 1000);
            select(); back(); bgmus();
        }

        //PAGE PREV/NEXT
        $('.prev').on('click', function() {
            nextprev();
            $('.grid').animate({ scrollLeft: '-=' + $('.grid').width() }, 0);
            $(".prev").css("display", "none");
            $(".next").css("display", "flex");
        });

        $('.next').on('click', function() {
            nextprev();
            $('.grid').animate({ scrollLeft: '+=' + $('.grid').width() }, 0);
            $(".next").css("display", "none");
            $(".prev").css("display", "flex");
            
        });

        // HOME/PAUSE MENU
        if (document.addEventListener) {
            document.addEventListener('keydown', function(event) {
                if (event.key === "p") {
                    homeIn();
                }
                $(".home-menu").css("display", "grid");
            }, false);
        }
        else {
            document.attachEvent('oncontextmenu', function() {
                alert("EXCEPTION HANDLED: Failed to open Home/Pause menu.\nPlease report any bugs to the Everybody Votes channel.");
                window.event.returnValue = false;
            });
        }

        $(".close-pause-menu").click(event => {
            $(".home-menu").addClass("fadeOut");
            setTimeout(() => {
                $(".home-menu").css("display", "none");
                $(".home-menu").removeClass("fadeOut");
            }, 250);
            bgmus(); homeOut();
        });

        $(".backtomenu").click(event => {
            $(".returndialog").css("display", "flex");
            rm1();
        });

        $(".closedialog").click(event => {
            $(".returndialog").css("display", "none");
        });

        // SETTINGS
        $(document).ready(() => {
            $(".wii-btn").click(() => {
                $(".settings").css("display", "block");
                setTimeout(() => {$(".settings-content").fadeIn();}, 1000);
                $(".grid").fadeOut();
            });

            $(".close").click(() => {
                $(".grid").fadeIn();
                $(".settings-content").fadeOut();
                setTimeout(() => {$(".settings").fadeOut();}, 3500);
            });
        });

        // MESSAGE BOARD
        $(".card.buttonlike").click(event => {
            $(".opened").css("display", "flex");
            $(".bg").css("display", "block");
        });

        $(".alt-btn.back").click(event => {
            $(".opened").css("display", "none");
            $(".bg").css("display", "none");
        });

        $(".backtowiimenu").click(event => {
            $(".msgboard").fadeOut();
        });

        $(".diary-btn").click(event => {
            $(".msgboard").css("display", "flex");
        });
    </script>
</body>
</html>